<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DIMC.JP - Social Media Services</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="d-flex justify-content-center align-items-center vh-100">
      <div class="w-100 px-3">
        <h3 class="mb-3">แชร์ไปได้บุญ เพราะคุณคือกัลยาณมิตร</h3>
        <button class="btn btn-success btn-block btn-lg w-100" id="btn-share">
          กดเพื่อเลือกเพื่อน & กลุ่ม
        </button>
      </div>
    </div>
    <script
      charset="utf-8"
      src="https://static.line-scdn.net/liff/edge/2/sdk.js"
    ></script>
    <script>
      // Using a callback
      liff.init(
        { liffId: "1661018679-9E41MJJw" },
        initializeApp,
        errorCallback
      );

      // initializeApp
      function initializeApp() {
        let btnShare = document.querySelector("#btn-share");

        btnShare.addEventListener("click", function () {
          let title = "ข่าวใสๆ จากไลน์น้องบุญจัง";
          let monkName = "";
          let imgurl =
            "https://i.ibb.co/3r0tCz3/049f6028b7078911fe9b4fef77de8007.jpg";
          let sessionDate = " ";
          let linkuri = "https://dimc.jp";

          let msg = createFlexMsg(
            title,
            monkName,
            imgurl,
            sessionDate,
            linkuri
          );

          if (liff.isApiAvailable("shareTargetPicker")) {
            liff
              .shareTargetPicker([msg])
              .then(function (res) {
                if (res) {
                  console.log(`[${res.status}] Message sent!`);
                  liff.closeWindow();
                } else {
                }
              })
              .catch(function (error) {
                // something went wrong before sending a message
                console.log("something wrong happen");
              });
          } else {
            alert("กรุณาเปิดบนสมาร์ทโฟน");
          }
        });
      } // initializeApp

      // errorCallback
      function errorCallback() {
        alert("error");
      }

      // createFlexMsg
      function createFlexMsg(title, monkName, imgurl, sessionDate, linkuri) {
        return {
          type: "flex",
          altText: title,
          contents: {
            type: "bubble",
            hero: {
              type: "image",
              url: "https://scdn.line-apps.com/n/channel_devcenter/img/fx/01_4_news.png",
              size: "full",
              aspectRatio: "20:13",
              aspectMode: "cover",
              action: {
                type: "uri",
                label: "Action",
                uri: "https://linecorp.com/",
              },
            },
            body: {
              type: "box",
              layout: "horizontal",
              spacing: "md",
              contents: [
                {
                  type: "box",
                  layout: "vertical",
                  flex: 1,
                  contents: [
                    {
                      type: "image",
                      url: "https://scdn.line-apps.com/n/channel_devcenter/img/fx/02_1_news_thumbnail_1.png",
                      gravity: "bottom",
                      size: "sm",
                      aspectRatio: "4:3",
                      aspectMode: "cover",
                    },
                    {
                      type: "image",
                      url: "https://scdn.line-apps.com/n/channel_devcenter/img/fx/02_1_news_thumbnail_2.png",
                      margin: "md",
                      size: "sm",
                      aspectRatio: "4:3",
                      aspectMode: "cover",
                    },
                  ],
                },
                {
                  type: "box",
                  layout: "vertical",
                  flex: 2,
                  contents: [
                    {
                      type: "text",
                      text: "7 Things to Know for Today",
                      size: "xs",
                      flex: 1,
                      gravity: "top",
                      contents: [],
                    },
                    {
                      type: "separator",
                    },
                    {
                      type: "text",
                      text: "Hay fever goes wild",
                      size: "xs",
                      flex: 2,
                      gravity: "center",
                      contents: [],
                    },
                    {
                      type: "separator",
                    },
                    {
                      type: "text",
                      text: "LINE Pay Begins Barcode Payment Service",
                      size: "xs",
                      flex: 2,
                      gravity: "center",
                      contents: [],
                    },
                    {
                      type: "separator",
                    },
                    {
                      type: "text",
                      text: "LINE Adds LINE Wallet",
                      size: "xs",
                      flex: 1,
                      gravity: "bottom",
                      contents: [],
                    },
                  ],
                },
              ],
            },
            footer: {
              type: "box",
              layout: "horizontal",
              spacing: "md",
              contents: [
                {
                  type: "button",
                  action: {
                    type: "uri",
                    label: "เปิดดู",
                    uri: "https://linecorp.com",
                  },
                  color: "#AC390DFF",
                  style: "primary",
                  gravity: "center",
                  position: "relative",
                  offsetStart: "2px",
                  offsetEnd: "2px",
                },
                {
                  type: "button",
                  action: {
                    type: "uri",
                    label: "ส่งต่อ",
                    uri: "https://liff.line.me/1661018679-9E41MJJw",
                  },
                  style: "primary",
                },
              ],
            },
          },
        };
      }
    </script>
  </body>
</html>
